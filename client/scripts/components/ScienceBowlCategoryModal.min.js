const SBCATEGORY_BUTTONS=[["MATH","primary"],["PHYSICS","danger"],["CHEMISTRY","warning"],["BIOLOGY","success"],["EARTH AND SPACE","info"],["ENERGY","secondary"]];function ScienceBowlCategoryModal({categoryManager:a,disablePercentView:b=!1,onClose:c=()=>{}}){function d({category:b,color:d}){return console.log("CategoryButton rendering for:",b),/*#__PURE__*/React.createElement("div",null,/*#__PURE__*/React.createElement("input",{type:"checkbox",className:"btn-check",autoComplete:"off",id:b,checked:a.categories.includes(b),onClick:function(d){console.log("Category button clicked:",b),d.preventDefault(),a.updateCategory(b),a.loadCategoryModal(),c()}}),/*#__PURE__*/React.createElement("label",{className:`btn btn-outline-${d} w-100 rounded-0 my-1`,htmlFor:b},b,/*#__PURE__*/React.createElement("br",null)))}console.log("ScienceBowlCategoryModal rendering with categories:",a.categories);const[e,f]=React.useState(!1);return React.useEffect(()=>{console.log("ScienceBowlCategoryModal useEffect running");// Add modal event listeners
const b=document.getElementById("category-modal-root");if(b){console.log("Found modal element in React component");const d=()=>{console.log("Modal shown in React component"),f(!0),b.removeAttribute("inert"),a.loadCategoryModal()},e=()=>{console.log("Modal hidden in React component"),f(!1),b.setAttribute("inert",""),c()};return b.addEventListener("show.bs.modal",d),b.addEventListener("hidden.bs.modal",e),()=>{b.removeEventListener("show.bs.modal",d),b.removeEventListener("hidden.bs.modal",e)}}console.log("Modal element not found in React component")},[c,a]),console.log("Rendering modal with categories:",a.categories),/*#__PURE__*/React.createElement("div",{className:"modal fade",id:"category-modal-root",tabIndex:"-1","aria-labelledby":"category-modal-label"},/*#__PURE__*/React.createElement("div",{className:"modal-dialog modal-dialog-scrollable"},/*#__PURE__*/React.createElement("div",{className:"modal-content"},/*#__PURE__*/React.createElement("div",{className:"modal-header"},/*#__PURE__*/React.createElement("h5",{className:"modal-title me-2",id:"category-modal-label"},"Select Categories"),/*#__PURE__*/React.createElement(function(){return console.log("ToggleAllButton rendering"),/*#__PURE__*/React.createElement("button",{className:"btn btn-primary me-1",id:"toggle-all",onClick:function(b){console.log("Toggle all clicked. Current categories:",a.categories),b.preventDefault(),0===a.categories.length?a.import({categories:SBCATEGORY_BUTTONS.map(a=>a[0])}):a.import(),a.loadCategoryModal(),c()}},"Toggle all")},null),!b&&/*#__PURE__*/React.createElement(function(){return console.log("TogglePercentView rendering"),/*#__PURE__*/React.createElement("button",{className:"btn btn-primary",onClick:function(b){console.log("Percent view clicked. Current categories:",a.categories),b.preventDefault(),a.percentView=!a.percentView,a.loadCategoryModal(),c()}},"% view")},null),/*#__PURE__*/React.createElement("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})),/*#__PURE__*/React.createElement("div",{className:"modal-body"},/*#__PURE__*/React.createElement("div",{className:"row",id:"non-percent-view"},/*#__PURE__*/React.createElement("div",{className:"col-12",id:"categories"},/*#__PURE__*/React.createElement("h5",{className:"text-center"},"Category"),SBCATEGORY_BUTTONS.map(([a,b])=>/*#__PURE__*/React.createElement(d,{key:a,category:a,color:b})))),/*#__PURE__*/React.createElement("div",{className:"row d-none",id:"percent-view"},/*#__PURE__*/React.createElement("div",{className:"col-12"},/*#__PURE__*/React.createElement("table",{className:"table"},/*#__PURE__*/React.createElement("tbody",null,SBCATEGORY_BUTTONS.map(([b,c],d)=>/*#__PURE__*/React.createElement("tr",{key:b},/*#__PURE__*/React.createElement("th",{style:{width:"50%"}},b),/*#__PURE__*/React.createElement("td",{style:{width:"50%"}},/*#__PURE__*/React.createElement("span",{className:"font-monospace me-1 category-percent"},(a.categoryPercents[d]+"").padStart(3,"\xA0"),"%"),/*#__PURE__*/React.createElement("div",{className:"btn-group btn-group-sm me-1",role:"group"},/*#__PURE__*/React.createElement("button",{type:"button",className:"btn btn-outline-secondary",onClick:()=>{a.categoryPercents[d]=Math.max(0,a.categoryPercents[d]-5),a.loadCategoryModal()}},"-"),/*#__PURE__*/React.createElement("button",{type:"button",className:"btn btn-outline-secondary",onClick:()=>{a.categoryPercents[d]=Math.min(100,a.categoryPercents[d]+5),a.loadCategoryModal()}},"+")),/*#__PURE__*/React.createElement("div",{className:"btn-group btn-group-sm",role:"group"},/*#__PURE__*/React.createElement("button",{type:"button",className:"btn btn-outline-secondary",onClick:()=>{a.categoryPercents[d]=0,a.loadCategoryModal()}},"Min"),/*#__PURE__*/React.createElement("button",{type:"button",className:"btn btn-outline-secondary",onClick:()=>{a.categoryPercents[d]=50,a.loadCategoryModal()}},"50%"),/*#__PURE__*/React.createElement("button",{type:"button",className:"btn btn-outline-secondary",onClick:()=>{const b=a.categoryPercents.reduce((c,a)=>c+a,0);a.categoryPercents[d]=100-(b-a.categoryPercents[d]),a.loadCategoryModal()}},"Max"))))),/*#__PURE__*/React.createElement("tr",null,/*#__PURE__*/React.createElement("th",null,"Total Percent:"),/*#__PURE__*/React.createElement("td",{className:"font-monospace"},/*#__PURE__*/React.createElement("span",{className:"me-1"},(a.categoryPercents.reduce((c,a)=>c+a,0)+"").padStart(3,"\xA0"),"%"),/*#__PURE__*/React.createElement("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:()=>{a.categoryPercents=a.categoryPercents.map(()=>0),a.loadCategoryModal()}},"Reset")))))))))))}export default ScienceBowlCategoryModal;